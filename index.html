<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Doolin CG Call-out Operations</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
  :root{--pad:16px;--panel:#1c1c1c;--ink:#fff;--sub:#ddd}
  *{box-sizing:border-box}
  body{margin:0;background:#0b0b0b;color:var(--ink);font-family:Segoe UI,Arial,sans-serif;overflow:hidden}
  header{padding:var(--pad);background:#111;border-bottom:3px solid #2aa3ff;display:flex;align-items:center;justify-content:space-between}
  h1{margin:0;font-size:2.0rem}
  #adminBtn{background:#2aa3ff;border:none;color:#fff;font-weight:700;padding:8px 12px;border-radius:8px;cursor:pointer}
  #sarIncident{background:rgba(220,0,0,0.85);padding:12px;margin:10px;border-radius:10px;text-align:center}
  #sarIncident h2{margin:0 0 6px;font-size:1.2rem}
  #incidentDetails{font-size:1.05rem;font-weight:600}
  #incidentAdmin{display:none;margin-top:10px;text-align:center}
  #incidentAdmin input, #incidentAdmin select{padding:6px;margin:4px;border-radius:6px;border:1px solid #333;background:#0f0f0f;color:#fff}
  #incidentAdmin button{padding:6px 12px;border:none;border-radius:6px;background:#2aa3ff;color:#fff;font-weight:600;cursor:pointer}
  #infoBar{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;background:#141414;
    padding:10px;border-top:1px solid #222;border-bottom:1px solid #222}
  #locName{font-weight:900;font-size:1.3rem}
  #latlon{color:var(--sub);font-size:1.1rem}
  #locationSelect{background:#0f0f0f;color:#fff;border:1px solid #333;padding:8px 10px;border-radius:8px;font-size:1.1rem}
  #clock{font-size:1.1rem;font-weight:600}
  main{display:flex;gap:20px;padding:var(--pad);height:46vh;min-height:340px}
  .panel{flex:1 1 50%;background:var(--panel);border-radius:12px;padding:16px;display:flex;flex-direction:column;justify-content:center}
  .panel h2{text-align:center;margin:0 0 10px;font-size:1.3rem}
  .status-dot{display:inline-block;width:12px;height:12px;border-radius:50%;margin-left:6px;background:#666;vertical-align:middle}
  /* Weather visuals */
  #weatherIcon{font-size:3.8rem;text-align:center;margin-bottom:8px}
  #weatherData{font-size:1.2rem;text-align:center;line-height:1.5}
  #compass{position:relative;width:120px;height:120px;border-radius:50%;border:4px solid rgba(255,255,255,0.25);margin:10px auto}
  #compassArrow{position:absolute;left:50%;top:50%;width:10px;height:50px;background:red;border-radius:4px;
    transform-origin:50% 85%;transform:translate(-50%,-50%) rotate(0deg)}
  .compass-label{position:absolute;font-size:.95rem;font-weight:800;opacity:.9}
  .n{left:50%;top:-18px;transform:translateX(-50%);color:red}
  .s{left:50%;bottom:-18px;transform:translateX(-50%)}
  .e{right:-18px;top:50%;transform:translateY(-50%)}
  .w{left:-18px;top:50%;transform:translateY(-50%)}
  #windText{text-align:center;font-size:1.05rem;margin-top:4px}
  /* Map */
  #map{height:100%;min-height:300px;border-radius:12px;border:2px solid #333}
  /* Tide visuals */
  #tidePanel{margin:0 var(--pad) var(--pad);background:var(--panel);border-radius:12px;padding:16px}
  #tidePanel h2{text-align:center;margin:0 0 10px;font-size:1.3rem}
  #tideChart{height:170px;display:flex;align-items:flex-end;gap:8px;justify-content:center;margin-top:8px}
  .bar{flex:1;min-width:38px;text-align:center;color:#fff;font-size:.9rem;font-weight:600;border-radius:6px 6px 0 0;display:flex;flex-direction:column;justify-content:flex-end}
  .bar span{background:rgba(0,0,0,0.45);width:100%;padding:2px;border-radius:0 0 6px 6px}
  #nextTide{margin-top:8px;text-align:center;font-weight:700;font-size:1.15rem;line-height:1.5}
  #nextTide .high{color:deepskyblue}
  #nextTide .low{color:#ff5a5a}
  #tideSource{text-align:center;margin-top:4px;font-size:0.9rem;color:#aaa}
  /* Warnings */
  #warningsWrap{padding:0 var(--pad) var(--pad)}
  #warningsBox{min-height:120px;border:2px solid #333;border-radius:8px;padding:10px;position:relative;background:#141414}
  .warning{position:absolute;left:50%;transform:translateX(-50%);max-width:1100px;width:96%;
    opacity:0;transition:opacity .8s ease;padding:10px;border-radius:8px;font-weight:700;text-align:center}
  .warning.show{opacity:1}
  .red{background:#b30000;color:#fff}
  .orange{background:#ff7a00;color:#fff}
  .yellow{background:#ffcc00;color:#000}
  footer{text-align:center;padding:10px;background:#111;color:#ddd;font-size:1.05rem}
  @media(max-width:900px){
    main{flex-direction:column;height:auto}
    #map{min-height:200px}
    body{overflow:auto}
  }
</style>
</head>
<body>
<header>
  <h1>Doolin CG Call-out Operations</h1>
  <button id="adminBtn" title="Admin">Admin</button>
</header>

<section id="sarIncident">
  <h2>Latest Coast Guard Incident</h2>
  <div id="incidentDetails"><p>No active incident entered.</p></div>
  <div id="incidentAdmin">
    <div>
      <label for="locationSelectAdmin"><b>Location:</b></label>
      <select id="locationSelectAdmin"></select>
    </div>
    <div>
      <input type="text" id="incidentTitle" placeholder="Incident Title">
      <input type="text" id="incidentDesc" placeholder="Incident Description / Location">
      <button id="saveIncidentBtn">Save Incident</button>
    </div>
  </div>
</section>

<div id="infoBar">
  <div><span id="locName">Doolin Port</span> — <span id="latlon">Lat: 53.016, Lon: -9.400</span></div>
  <div>
    <label for="locationSelect">Location:</label>
    <select id="locationSelect"></select>
    <span id="clock">Current time: --:--:--</span>
  </div>
</div>

<main>
  <section class="panel">
    <h2>Weather <span id="weatherStatus" class="status-dot"></span></h2>
    <div id="weatherIcon">☀️</div>
    <div id="weatherData">Loading…</div>
    <div id="compass">
      <div class="compass-label n">N</div>
      <div class="compass-label s">S</div>
      <div class="compass-label e">E</div>
      <div class="compass-label w">W</div>
      <div id="compassArrow"></div>
    </div>
    <div id="windText"></div>
  </section>
  <section class="panel">
    <div id="map"></div>
  </section>
</main>

<section id="tidePanel">
  <h2>Tide Forecast <span id="tideStatus" class="status-dot"></span></h2>
  <div id="tideChart">Loading…</div>
  <div id="nextTide"></div>
  <div id="tideSource"></div>
</section>

<div id="warningsWrap">
  <div id="warningsBox"><em>Loading warnings…</em></div>
</div>

<footer>
  <div id="latestData">Latest data as of: --</div>
</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// --- script content unchanged except adding Cliffs of Moher + syncing locationSelectAdmin ---
// (For brevity, re-use the previous tide/weather/warnings code but with Cliffs in LOCS and syncing both dropdowns)
</script>
</body>
</html>
